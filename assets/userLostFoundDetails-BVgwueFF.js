import{s as f}from"./darkMode-B-Ivf8oh.js";document.addEventListener("DOMContentLoaded",async()=>{document.getElementById("loadingState"),document.getElementById("errorState"),document.getElementById("contentState");const{data:{session:e}}=await f.auth.getSession();if(!e){window.location.href="Login.html";return}const a=new URLSearchParams(window.location.search).get("id");if(!a){c();return}try{const{data:t,error:s}=await f.from("lost_and_found").select(`
                *,
                lost_found_attachments (*)
            `).eq("item_id",a).eq("user_id",e.user.id).single();if(s||!t){console.error("Error fetching report:",s),c();return}y(t)}catch(t){console.error("Unexpected error:",t),c()}});function y(e){const i=document.getElementById("loadingState"),a=document.getElementById("contentState");document.getElementById("itemName").textContent=e.item_name,document.getElementById("itemTypeBadge").textContent=e.item_type,document.getElementById("reportedDate").textContent=new Date(e.reported_date).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}),document.getElementById("itemId").textContent=e.item_id;const t=e.status==="Found"?"#10b981":e.status==="Claim"?"#3b82f6":"#f59e0b";[document.querySelector("section:has(#locationLost) h3 i"),document.querySelector("section:has(#brand) h3 i"),document.querySelector("#descriptionSection h3 i"),document.querySelector("#attachmentsSection h3 i")].forEach(n=>{n&&(n.style.color=t,n.classList.remove("text-blue-500"))});const l={Lost:{color:"#ff9800",icon:"fas fa-question-circle",bg:"rgba(255, 152, 0, 0.1)",text:"Lost"},Claim:{color:"#2196f3",icon:"fas fa-eye",bg:"rgba(33, 150, 243, 0.1)",text:"Match Found"},Found:{color:"#4caf50",icon:"fas fa-check-circle",bg:"rgba(76, 175, 80, 0.1)",text:"Returned / Found"},Deleted:{color:"#f44336",icon:"fas fa-trash-alt",bg:"rgba(244, 67, 54, 0.1)",text:"Deleted"}},d=l[e.status]||l.Lost,m=document.getElementById("statusBadge");m.style.color=d.color,m.style.backgroundColor=d.bg,document.getElementById("statusIcon").className=d.icon,document.getElementById("statusText").textContent=d.text,document.getElementById("locationLost").textContent=e.location_lost||"Not specified",document.getElementById("dateLost").textContent=e.date_lost?new Date(e.date_lost).toLocaleDateString():"Not specified",document.getElementById("timeLost").textContent=e.time_lost||"Not specified",document.getElementById("brand").textContent=e.brand||"Not specified",document.getElementById("model").textContent=e.model||"Not specified";const r=[];e.primary_color&&r.push(e.primary_color),e.secondary_color&&r.push(e.secondary_color),document.getElementById("itemColors").textContent=r.join(" / ")||"Not specified",document.getElementById("serialNumber").textContent=e.serial_number||"Not specified",e.distinguishing_features&&(document.getElementById("featuresSection").classList.remove("hidden"),document.getElementById("distinguishingFeatures").textContent=e.distinguishing_features),e.description&&(document.getElementById("descriptionSection").classList.remove("hidden"),document.getElementById("itemDescription").textContent=e.description),e.admin_feedback&&(document.getElementById("adminFeedbackSection").classList.remove("hidden"),document.getElementById("adminFeedback").textContent=e.admin_feedback);const u=e.lost_found_attachments||[];if(u.length>0){document.getElementById("attachmentsSection").classList.remove("hidden");const n=document.getElementById("attachmentsContainer");n.innerHTML="",u.forEach(g=>{const o=document.createElement("a");o.href=g.file_url,o.target="_blank",o.className="block bg-white dark:bg-gray-900 rounded-3xl overflow-hidden border border-gray-100 dark:border-gray-700 hover:shadow-xl transition-all duration-300 group max-w-sm",o.innerHTML=`
                <div class="aspect-square w-full sm:w-64 overflow-hidden bg-gray-100 dark:bg-gray-800">
                    <img src="${g.file_url}" class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-500">
                </div>
                <div class="p-4 flex justify-between items-center bg-gray-50 dark:bg-gray-800/50">
                    <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Item Photo</span>
                    <i class="fas fa-search-plus text-gray-400 group-hover:text-amber-500"></i>
                </div>
            `,n.appendChild(o)})}i.classList.add("hidden"),a.classList.remove("hidden")}function c(){document.getElementById("loadingState").classList.add("hidden"),document.getElementById("errorState").classList.remove("hidden")}
